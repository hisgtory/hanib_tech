# 기술 부채와 리팩터링

## "왜 새 기능 추가가 점점 느려지죠?"

출시 초기에는 하루에 기능 하나씩 나왔는데, 이제는 작은 수정도 2주가 걸려요. 개발팀에 물어보면 "기술 부채 때문"이라고 해요. 그게 뭘까요?

## 기술 부채란?

### 빚을 지는 것과 같아요

```
돈 빚: 급하게 돈 빌림 → 나중에 이자와 함께 갚음
기술 부채: 급하게 코드 작성 → 나중에 시간과 노력으로 갚음
```

:::callout[tip]
"지금 빨리 만들자"의 대가로 "나중에 더 오래 걸림"을 선택하는 거예요.
:::

### 왜 기술 부채가 생길까요?

```
1. 시간 압박
   "다음 주까지 꼭 출시해야 해요!"
   → 일단 돌아가게만 만듦

2. 지식 부족
   "그때는 이게 최선인 줄 알았어요"
   → 나중에 더 좋은 방법을 알게 됨

3. 요구사항 변경
   "처음엔 이렇게 안 쓸 줄 알았어요"
   → 확장성을 고려 안 한 설계
```

### 기술 부채의 증상

==기술 부채가 쌓이면 이런 현상이 나타나요:==

- 간단한 수정에도 오래 걸림
- 하나 고치면 다른 데서 버그 발생
- 새 개발자가 코드 이해하는 데 몇 주 걸림
- "이 코드 건드리면 안 돼요" 하는 영역이 생김
- 개발자들이 코드 보며 한숨 쉼

## 리팩터링이란?

### 기능은 그대로, 코드만 정리

```
리팩터링 ≠ 새 기능 추가
리팩터링 = 코드를 더 깔끔하게 정리
```

:::callout[important]
리팩터링은 사용자 눈에 보이는 게 없어요.
하지만 안 하면 나중에 더 큰 문제가 생겨요.
:::

### 비유로 이해하기

```
코드 = 방

처음: 깔끔한 방에서 물건 찾기 쉬움
시간 지남: 물건이 쌓임, 어디 있는지 모름
정리(리팩터링): 다시 깔끔하게, 찾기 쉽게

정리 안 하면?
결국 방 전체를 비우고 다시 시작해야 함
```

## 개발팀이 쓰는 용어들

### 레거시 코드 (Legacy Code)

```
"레거시 코드 때문에 힘들어요"
= 오래된 코드라서 수정하기 어려워요
```

### 스파게티 코드 (Spaghetti Code)

```
"이거 완전 스파게티야"
= 코드가 뒤엉켜서 따라가기 힘들어요
```

### 코드 스멜 (Code Smell)

```
"코드 스멜이 심해요"
= 문제가 있을 것 같은 냄새가 나요
```

## 기술 부채 관리 방법

### 1. 부채를 인정하기

```
❌ "우리 코드는 완벽해"
✅ "이 부분은 나중에 정리해야 해"
```

### 2. 점진적으로 갚기

```
❌ 한 번에 전체 리팩터링 (2개월 동안 새 기능 없음)
✅ 기능 개발하면서 조금씩 정리 (보이스카웃 룰)
```

:::callout[tip]
보이스카웃 룰: "캠핑장을 떠날 때 왔을 때보다 깨끗이"
코드도 건드릴 때마다 조금씩 개선해요.
:::

### 3. 우선순위 정하기

```
자주 수정하는 코드 → 먼저 정리
안 건드리는 코드 → 나중에 (또는 안 함)
```

### 4. 시간 확보하기

```
스프린트의 20%를 기술 부채 해결에 할당
예: 10일 중 2일은 정리 작업
```

## 디자이너가 알아두면 좋은 것

### 리팩터링 기간엔 새 기능이 안 나와요

```
PM: "다음 달엔 뭐가 나와요?"
개발팀: "리팩터링 중이라 새 기능은 없어요"
디자이너: (새 디자인 작업할 게 없네...)

괜찮아요, 필요한 시간이에요.
```

### 기술 부채 때문에 "안 된다"고 할 수 있어요

```
디자이너: "이 기능 추가해주세요"
개발자: "지금 구조로는 어려워요. 리팩터링 먼저 해야 해요"

이건 핑계가 아니라 진짜 현실일 수 있어요.
```

### 오래된 화면 수정이 더 어려울 수 있어요

```
새 화면: 최신 코드로 빠르게 구현
오래된 화면: 레거시 코드라 수정 오래 걸림
```

## 기술 부채를 줄이려면

### 처음부터 잘 만들기

```
❌ "일단 돌아가게만 해요" → 부채 축적
✅ "조금 더 시간 주세요" → 부채 줄임
```

### 명세를 명확히 하기

```
❌ 계속 바뀌는 요구사항 → 코드 계속 수정 → 부채 증가
✅ 확정된 요구사항 → 한 번에 잘 만듦 → 부채 감소
```

### 정기적인 정리 시간

```
❌ "시간 나면 정리하자" → 영원히 안 함
✅ "매 스프린트 2일은 정리" → 꾸준히 관리
```

## 정리

:::callout[important]
기술 부채는 나쁜 게 아니라 관리해야 하는 거예요.
때로는 빨리 출시하기 위해 부채를 지는 게 맞을 수도 있어요.
다만, 갚지 않으면 이자가 불어나요.
:::

**핵심:**
- 기술 부채 = 급하게 만든 코드의 대가
- 리팩터링 = 코드 정리 (기능 변화 없음)
- 부채가 쌓이면 개발 속도가 느려져요
- 조금씩 꾸준히 갚는 게 좋아요
- 리팩터링 기간엔 새 기능이 안 나올 수 있어요

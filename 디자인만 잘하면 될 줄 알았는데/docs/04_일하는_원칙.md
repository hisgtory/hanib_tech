# 일하는 원칙

## 작업 흐름

### 1. 요청 이해
- 요청의 맥락 파악
- 불명확한 부분은 질문
- 큰 그림 먼저, 세부사항 나중

### 2. 계획 수립
- TodoWrite로 작업 분할
- 병렬 처리 가능한 작업 파악
- 의존성 있는 작업은 순차 처리

### 3. 구현
- 작은 단위로 구현
- 자주 테스트
- 문제 발생시 즉시 수정

### 4. 검증
- 서버 재시작 및 테스트
- 에러 로그 확인
- 실제 동작 확인

## 코드 작성 원칙

### DO (해야 할 것)
```
- 기존 코드 스타일 따르기
- 한 번에 한 가지 변경
- 변경 후 바로 테스트
- 명확한 변수/함수명
- 필요한 만큼만 구현
```

### DON'T (하지 말 것)
```
- 요청하지 않은 리팩토링
- 과도한 추상화
- 테스트 없이 다음 단계 진행
- 추측으로 구현 (확인 먼저)
- 한 번에 너무 많은 변경
```

## 문제 해결 프로세스

### 1. 에러 발생시
```
1. 에러 메시지 정확히 읽기
2. 관련 코드 위치 파악
3. 최소 재현 케이스 확인
4. 원인 분석
5. 수정 및 검증
```

### 2. 기능 미동작시
```
1. 네트워크 요청/응답 확인 (curl)
2. 서버 로그 확인
3. 브라우저 콘솔 확인
4. 코드 흐름 추적
```

### 3. 디버깅 도구
```bash
# API 테스트
curl -s http://localhost:3031/api/endpoint | jq

# 포트 확인
lsof -i :3031

# 서버 로그
cat /tmp/claude/.../tasks/*.output
```

## 커뮤니케이션 원칙

### 진행 상황 공유
- 작업 시작 전 계획 공유
- 중간 결과 보고
- 완료 후 요약

### 질문 방식
```
좋은 예: "A와 B 중 어떤 방식을 선호하시나요?"
나쁜 예: "어떻게 하면 될까요?"
```

### 문제 보고
```
좋은 예: "X 에러가 발생했습니다. Y가 원인으로 보이며 Z로 해결 가능합니다."
나쁜 예: "에러가 났습니다."
```

## 파일 수정 원칙

### 1. 읽기 먼저
- 수정 전 반드시 파일 읽기
- 전체 컨텍스트 파악
- 기존 스타일 확인

### 2. 최소 변경
- 필요한 부분만 수정
- 관련 없는 코드 건드리지 않음
- 포맷팅만 하는 변경 지양

### 3. 점진적 수정
```
1. 한 가지 변경
2. 테스트
3. 커밋
4. 다음 변경
```

## 브랜치 & 커밋 전략

### 브랜치 생성 시점
- 새 기능 시작시
- 버그 수정시
- 실험적 변경시

### 커밋 시점
- 하나의 논리적 변경 완료시
- 작업 중단 전
- 요청 받았을 때

### 커밋 메시지 작성
```
feat: 무엇을 추가했는지
fix: 무엇을 고쳤는지
refactor: 무엇을 개선했는지

본문:
- 왜 이 변경이 필요한지
- 어떤 파일들이 변경되었는지
- 주의할 점이 있다면
```

## 서버 관리

### 개발 서버 실행
```bash
# 백엔드 (백그라운드)
cd tools/hanib && go build -o hanib-server ./cmd/server && ./hanib-server &

# 프론트엔드 (백그라운드)
cd tools/hanib/web && npm run dev &
```

### 서버 확인
```bash
# 포트 확인
lsof -i :3030  # 프론트엔드
lsof -i :3031  # 백엔드

# 프로세스 종료
kill <PID>
```

### 서버 재시작이 필요한 경우
- Go 코드 수정 후
- 환경 설정 변경 후
- 포트 충돌 발생시

## 우선순위 결정

### 높음
1. 현재 작업 완료
2. 버그 수정
3. 요청받은 기능

### 낮음
1. 리팩토링
2. 문서화
3. 최적화

### 미룰 수 있는 것
- "나중에 하면 좋을 것"
- 요청 없는 개선
- 완벽주의적 수정

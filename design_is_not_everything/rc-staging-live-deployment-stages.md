# RC? Staging? Live? 배포 스테이지를 나누는 법

🎯 "이거 어디 서버에 배포했어?" "이미 라이브에 나간 거 아니야?"

개발팀에서 가장 혼란스러운 순간 중 하나는 배포 환경을 구분하지 못할 때입니다. Development, Staging, RC, Production... 이런 용어들이 난무하지만, 정확히 각각의 역할을 이해하고 활용하면 안전하고 효율적인 배포가 가능합니다.

## 🏗️ 배포 환경의 단계별 구분

### 1️⃣ Development (Local/Dev) 환경

- **목적**: 개발자가 코드를 작성하고 기본적인 기능을 테스트하는 환경
- **특징**: 빠른 수정과 재시작이 가능, 디버깅 도구 활용 가능
- **데이터**: 테스트 데이터, 목(mock) 데이터 사용
- **접근 권한**: 개발자 본인만

### 2️⃣ Staging (QA/Test) 환경

- **목적**: 프로덕션과 유사한 환경에서 통합 테스트를 진행
- **특징**: 여러 개발자의 코드가 통합되어 테스트, QA 팀이 기능을 검증
- **데이터**: 프로덕션과 유사하지만 테스트용 데이터
- **접근 권한**: 개발팀, QA팀, PM 등 내부 직원

### 3️⃣ RC (Release Candidate) 환경

- **목적**: 출시 직전의 최종 검증, 프로덕션과 거의 동일한 환경
- **특징**: 코드 프리징(code freeze) 상태, 크리티컬 버그만 수정
- **데이터**: 프로덕션 데이터의 스냅샷 또는 마스킹된 실 데이터
- **접근 권한**: 내부 직원 + 선택된 베타 테스터

### 4️⃣ Production (Live) 환경

- **목적**: 실제 사용자에게 서비스를 제공하는 환경
- **특징**: 24/7 가용성 보장, 모니터링 및 로깅 필수
- **데이터**: 실제 사용자 데이터
- **접근 권한**: 전 세계 모든 사용자

## 🔄 각 환경을 효과적으로 활용하는 방법

### 🎯 Development 환경 활용 팁

- **빠른 피드백 루프**: 코드 작성 → 테스트 → 수정의 사이클을 최대한 짧게
- **Hot Reload 활용**: 프론트엔드 개발 시 실시간 변경사항 확인
- **로컬 DB 사용**: 네트워크 지연 없이 빠른 테스트

### 🧪 Staging 환경 활용 팁

- **통합 테스트 수행**: 여러 기능이 함께 작동하는지 확인
- **성능 테스트**: 프로덕션과 유사한 환경에서 부하 테스트
- **API 문서화**: 프론트엔드와 백엔드의 협업을 위한 문서 작성

### 🏁 RC 환경 활용 팁

- **실전 시뮬레이션**: 출시 시나리오대로 배포 프로세스 연습
- **롤백 테스트**: 문제 발생 시 이전 버전으로 돌아가는 절차 확인
- **카나리아 배포 준비**: 일부 사용자에게만 먼저 배포할 준비

### 🚀 Production 환경 활용 팁

- **Blue-Green 배포**: 무중단 배포를 위한 이중화된 환경
- **실시간 모니터링**: 성능 지표와 에러 로그 추적
- **롤백 전략**: 문제 발생 시 신속한 이전 버전 복구

## 🚨 자주 발생하는 실수와 해결방법

### 🐛 실수 1: 환경 별 설정 파일 혼동

- **문제**: Dev용 API 키가 Production에 배포
- **해결**: 환경 변수(.env) 파일을 환경별로 분리, CI/CD에서 자동 주입

### 🐛 실수 2: 데이터베이스 접근 오류

- **문제**: Staging에서 Production DB에 접근
- **해결**: 네트워크 분리, 접근 권한 엄격 관리, 읽기 전용 복제 DB 사용

### 🐛 실수 3: 코드 프리징 위반

- **문제**: RC 단계에서 새 기능 추가
- **해결**: 브랜치 전략 수립, RC는 버그 수정만 허용, 새 기능은 다음 버전으로

## 📈 배포 파이프라인 예시

일반적인 배포 흐름:

**Development → Staging → RC → Production**

- **Dev**: 개발자가 feature 브랜치에서 작업
- **Staging**: develop 브랜치 병합 후 통합 테스트
- **RC**: release 브랜치에서 최종 테스트
- **Production**: main/master 브랜치에서 배포

## 🌐 클라우드 환경에서의 특별 고려사항

- **컨테이너화**: Docker를 활용하여 모든 환경을 동일하게 구성
- **오토 스케일링**: Production 환경에서 트래픽에 따른 자동 확장/축소
- **비용 최적화**: 개발/테스트 환경은 사용하지 않을 때 자동 종료

## 📝 환경별 체크리스트

배포 전 확인할 사항:

- ✅ 환경 변수가 올바른가?
- ✅ 데이터베이스 연결이 올바른가?
- ✅ 로그 레벨이 적절한가?
- ✅ 모니터링이 설정되어 있는가?
- ✅ 롤백 계획이 준비되어 있는가?

## 🎯 마무리하며

각 배포 환경은 나름의 역할과 목적이 있습니다. Development에서는 빠른 개발과 테스트를, Staging에서는 통합 테스트를, RC에서는 최종 검증을, Production에서는 안정적인 서비스를 목표로 합니다.

중요한 것은 각 환경의 역할을 명확히 하고, 팀 전체가 이를 이해하고 준수하는 것입니다. "이거 어디 서버에 배포했어?"라는 질문이 나오지 않도록, 체계적인 배포 프로세스를 구축하세요. 🚀

---

## Instagram Card News 버전

### 슬라이드 1: Hook
"이거 어디 서버에 배포했어?" 😵
배포 환경 혼동으로 인한 
참사를 방지하는 방법!

### 슬라이드 2: 4단계 환경
🏗️ 배포 환경 4단계
1. Development (개발)
2. Staging (테스트) 
3. RC (출시 후보)
4. Production (실서비스)

### 슬라이드 3: Development
💻 Development 환경
• 개발자 개인 작업 공간
• 빠른 수정과 테스트
• 테스트 데이터 사용
• 디버깅 도구 활용

### 슬라이드 4: Staging
🧪 Staging 환경  
• 통합 테스트 수행
• QA팀 기능 검증
• 프로덕션 유사 환경
• 내부 직원만 접근

### 슬라이드 5: RC
🏁 RC (Release Candidate)
• 출시 직전 최종 검증
• 코드 프리징 상태
• 베타 테스터 참여
• 크리티컬 버그만 수정

### 슬라이드 6: Production
🚀 Production 환경
• 실제 사용자 서비스
• 24/7 가용성 보장
• 실시간 모니터링
• 롤백 전략 필수

### 슬라이드 7: 흔한 실수들
⚠️ 흔한 실수 3가지
• Dev API키 → Production 배포
• Staging → Production DB 접근
• RC 단계에서 신기능 추가

### 슬라이드 8: 배포 파이프라인
📈 배포 흐름도
Development → Staging 
→ RC → Production
각 단계별 검증 필수!

### 슬라이드 9: 체크리스트
✅ 배포 전 체크리스트
• 환경 변수 올바른가?
• DB 연결 확인했나?
• 모니터링 설정했나?
• 롤백 계획 있나?

### 슬라이드 10: 마무리
🎯 각 환경의 역할 명확화!
"어디 서버?" 질문이 나오지 않는
체계적인 배포 프로세스를 구축하세요

#개발자와소통하기 #비개발자를위한IT #hanib_tech #배포 #DevOps #CI #CD #개발환경 #스테이징 #RC
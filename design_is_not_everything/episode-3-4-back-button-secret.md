# Episode 3-4: 뒤로 가기 버튼이 작동하지 않는 웹사이트의 비밀 [Exclusive]

웹서핑을 하다가 '뒤로 가기' 버튼을 눌렀는데 안 돌아가진 적 있으신가요? 혹은 생각과 다른 페이지로 이동해서 당황한 경험이 있으실 거예요. 이건 버그가 아니라 개발자가 의도적으로 설계한 것일 수도 있어요.

특히 최근 유행하는 SPA(Single Page Application)에서는 이런 현상이 더 자주 발생해요. 오늘은 웹에서 '뒤로 가기'가 작동하지 않는 이유와 그 뒤에 숨겨진 기술적 비밀을 알아볼게요.

## 1. 전통적인 웹사이트의 '뒤로 가기': 예측 가능한 세계

예전에는 웹사이트가 단순했어요. 링크를 클릭하면 새로운 페이지로 이동하고, '뒤로 가기'를 누르면 이전 페이지로 돌아갔죠. 이것이 내가 알고 있던 웹의 기본 동작이었어요.

이런 방식을 'Multi-Page Application(MPA)'라고 해요. 각 페이지마다 고유한 URL이 있고, 브라우저 히스토리에 차근차근 쌓여요. 뒤로 가기를 누르면 히스토리 스택에서 이전 URL을 가져와서 그 페이지로 이동해요.

하지만 이 방식은 한 가지 문제가 있었어요. 페이지를 이동할 때마다 전체 페이지를 다시 로드해야 해서 느렸죠. 특히 인터넷이 느릴 때는 더더욱 답답했어요.

## 2. SPA의 등장: 빠르지만 복잡한 세계

그래서 나타난 것이 SPA(Single Page Application)예요. 말 그대로 '한 페이지' 안에서 모든 것을 처리하는 웹 어플리케이션이죠. Netflix, YouTube, Gmail 같은 서비스들이 대표적인 SPA예요.

SPA에서는 페이지 전체를 새로 로드하지 않아요. 대신 JavaScript가 현재 페이지의 일부만 다시 그려요. 마치 스마트폰 앱처럼 빠르고 부드럽게 작동해요.

가령, YouTube에서 동영상을 보다가 다른 동영상을 클릭할 때를 생각해보세요. 페이지 전체가 새로 로드되지 않고, 중앙의 비디오 부분만 새로운 콘텐츠로 바뀌죠. 그리고 URL도 youtube.com/watch?v=12345 같이 바뀌어요.

하지만 여기서 문제가 생겼어요. 실제로는 한 페이지 안에서 콘텐츠만 바뀐는데, 사용자는 마치 새로운 페이지로 이동한 것처럼 느끼죠. 그래서 '뒤로 가기'를 누를 때 기대하는 동작과 다르게 작동할 수 있어요.

## 3. History API: 개발자가 '뒤로 가기'를 조작하는 방법

SPA에서 '뒤로 가기' 문제를 해결하기 위해 나온 것이 'History API'예요. 이 API를 통해 개발자들은 브라우저의 히스토리를 직접 조작할 수 있어요.

History API의 주요 기능들:
- history.pushState(): 새로운 히스토리 엔트리를 추가
- history.replaceState(): 현재 히스토리 엔트리를 대체
- window.onpopstate: '뒤로 가기' 버튼이 눌렸을 때 실행되는 이벤트

예를 들어, Netflix에서 영화를 클릭할 때 이런 식으로 작동해요:

1. 사용자가 영화 포스터 클릭
2. JavaScript가 영화 정보를 로드하고 화면에 표시
3. history.pushState()로 새로운 URL을 히스토리에 추가
4. 브라우저 주소창이 새로운 URL로 변경

이 방식으로 사용자는 마치 새로운 페이지로 이동한 것처럼 느끼지만, 실제로는 같은 페이지 내에서 콘텐츠만 바뀐어요. '뒤로 가기'를 누르면 onpopstate 이벤트가 발생하고, 개발자가 정의한 대로 동작해요.

## 4. '뒤로 가기'가 작동하지 않는 이유들

이제 왜 '뒤로 가기'가 예상과 다르게 작동하는지 알아봐요. 주로 다음과 같은 이유들 때문이에요:

### 🚫 버그나 사용자 경험 문제

가장 단순한 이유는 개발자가 History API를 제대로 구현하지 않았기 때문이에요. 특히 초보 개발자들이 React나 Vue.js 같은 프레임워크를 처음 사용할 때 이런 실수를 자주 해요.

또한 일부 웹사이트는 사용자의 나갈 때 아예 차단하려고 의도적으로 '뒤로 가기'를 비활성화해요. 특히 과금 결제나 설문조사 과정에서 사용자가 중간에 나가는 것을 방지하려고 이런 방법을 사용해요.

### 🔄 무한 루프와 히스토리 조작

사용자를 효과적으로 '갇혀놓기' 위해서 무한 루프를 만드는 경우도 있어요. 예를 들어, 비양심 있는 광고 사이트는 이런 패턴으로 작동해요:

1. 사용자가 '뒤로 가기'를 누름
2. 페이지가 즉시 history.pushState()로 새로운 엔트리를 추가
3. 결과적으로 같은 페이지에 계속 머무르게 됨
4. 여러 번 '뒤로 가기'를 눌러도 나갈 수 없음

이런 업체들은 사용자가 오래 머물러서 더 많은 광고를 볼 수 있도록 의도적으로 이런 함정을 만들어요.

### 💰 비즈니스 전략적 이유

한편, 정당한 비즈니스 이유로 '뒤로 가기'를 제한하는 경우도 있어요. 예를 들어:

- 온라인 결제 과정: 사용자가 중간에 나가면 결제 오류가 발생할 수 있어요
- 시험이나 설문: 답안이 저장되지 않거나 전체 진행상황이 엉킬 수 있어요
- 게임: 게임 진행 상황이 손실될 수 있어요

이런 경우 대부분 '정말로 나가시겠습니까?' 같은 확인 팝업을 띄워서 사용자에게 선택권을 줘요.

## 5. 웹 라우터의 진화: 더 정교한 히스토리 관리

최근의 웹 프레임워크들은 이런 문제들을 해결하기 위해 정교한 라우팅 시스템을 도입했어요:

- React Router: React 어플리케이션의 표준 라우팅 라이브러리
- Vue Router: Vue.js의 공식 라우터
- Angular Router: Angular 프레임워크의 내장 라우터

이런 라우터들은 히스토리 관리를 자동으로 처리해서 '뒤로 가기'가 예상대로 작동하도록 도와줘요. 또한 route guard나 navigation guard 같은 기능으로 사용자의 내비게이션을 제어할 수 있어요.

## 6. 사용자로서 대처하는 법

'뒤로 가기'가 작동하지 않는 웹사이트를 만났을 때 사용할 수 있는 몇 가지 팁들이 있어요:

### 🔄 웹 브라우저 탭 닫기

가장 간단한 방법은 아예 탭을 닫는 거예요. Ctrl+W (Windows) 또는 Cmd+W (Mac)를 누르면 현재 탭이 닫혀요. 다만 이 방법은 히스토리까지 잃어버리는 단점이 있어요.

### 📋 주소창에서 직접 주소 입력

브라우저 주소창에 직접 새로운 URL을 입력하는 방법도 있어요. Ctrl+L (Windows) 또는 Cmd+L (Mac)를 눌러 주소창에 포커스를 맞춘 다음 원하는 사이트로 이동하세요.

### 📋 Alt + 왼쪽 화살표 (강제 뒤로 가기)

가장 많이 알려진 방법은 Alt + 왼쪽 화살표 (또는 Mac에서 Cmd + 왼쪽 화살표)를 누르는 거예요. 이 조합키는 브라우저의 내장 '뒤로 가기' 기능을 사용하는 것이라 대부분의 함정을 빠져나갈 수 있어요.

### 🛡️ 브라우저 확장 프로그램 사용

더 강력한 방법으로는 uBlock Origin 같은 광고 차단 확장 프로그램을 사용하는 것이 있어요. 이런 확장 프로그램들은 악성 스크립트를 차단해서 비정상적인 히스토리 조작을 방지할 수 있어요.

## 7. 개발자로서 올바른 구현법

만약 여러분이 개발자라면, '뒤로 가기'를 올바르게 구현하는 법도 알아두면 좋아요:

### ✅ 검증된 라우터 사용

React Router, Vue Router 같이 입증된 라우팅 라이브러리를 사용하세요. 이런 라이브러리들은 이미 히스토리 관리를 잘 처리하도록 만들어졌어요.

### ✅ 사용자 경험 우선 사고

비즈니스 요구사항 때문에 '뒤로 가기'를 제한해야 한다면, 반드시 사용자에게 명확한 안내를 제공하세요. '나가시겠습니까?' 같은 확인 메시지로 사용자가 선택할 수 있도록 하세요.

### ✅ 대안 전용 버튼 제공

브라우저의 '뒤로 가기'를 비활성화하는 대신, 웹사이트 내에 돌아가기 버튼을 명확하게 제공하세요. 사용자가 어디로 갈 수 있는지 예측 가능하게 만들어야 해요.

## 8. 결론: 웹의 진화와 함께 변화하는 사용자 경험

웹사이트에서 '뒤로 가기'가 작동하지 않는 현상은 단순히 버그가 아니라, 웹 기술의 진화와 비즈니스 요구사항이 만들어낸 결과예요. SPA의 등장과 History API의 발전은 웹을 더 빠르고 대화형으로 만들었지만, 동시에 새로운 문제들도 발생시켰어요.

사용자로서는 이런 상황에 대처하는 법을 알아두고, 개발자로서는 올바른 구현법으로 사용자 경험을 해치지 않는 것이 중요해요. 어떻게 보면 이것도 웹이 계속 진화하면서 생긴 성장통이라고 할 수 있죠.

다음에 '뒤로 가기'가 작동하지 않는 웹사이트를 만나면, 이런 배경 지식을 바탕으로 조금 더 여유롭게 대처할 수 있으실 거예요. 그리고 웹 기술이 앞으로 어떻게 더 발전할지도 궁금해지네요!

---

## 📱 Instagram 카드뉴스 버전

### [1/10] 뒤로가기 버튼의 비밀 🔙
웹서핑 중 뒤로가기가 안 되는 경험 있나요?
이건 버그가 아닐 수도 있어요!
#개발자와소통하기 #웹개발 #hanib_tech

### [2/10] 예전 웹사이트 VS 요즘 웹사이트 📄
**전통적인 웹 (MPA):**
- 페이지마다 고유 URL
- 뒤로가기 = 이전 페이지
- 느리지만 예측 가능

**현재 웹 (SPA):**
- 한 페이지에서 모든 처리
- 빠르지만 복잡한 히스토리 관리
- Netflix, YouTube가 대표적

### [3/10] SPA에서 생기는 마법 ✨
YouTube에서 영상을 클릭하면:
1. 페이지 새로고침 없이
2. 영상 부분만 바뀌고
3. URL은 바뀜

실제로는 같은 페이지인데
새 페이지로 이동한 것 같은 착각!

### [4/10] History API의 등장 🛠️
개발자가 브라우저 히스토리를 조작할 수 있는 도구:
- **pushState()**: 새 히스토리 추가
- **replaceState()**: 현재 히스토리 대체  
- **onpopstate**: 뒤로가기 감지

이걸로 뒤로가기 동작을 완전히 바꿀 수 있어요

### [5/10] 뒤로가기가 안 되는 이유 1 🚫
**개발자 실수:**
- History API 잘못 구현
- 초보 개발자들이 자주 하는 실수

**의도적 차단:**
- 결제 과정에서 이탈 방지
- 설문조사 중단 방지

### [6/10] 뒤로가기가 안 되는 이유 2 🔄
**무한 루프 함정:**
1. 뒤로가기 버튼 클릭
2. 즉시 새 히스토리 추가
3. 같은 페이지에 계속 갇힘
4. 여러 번 눌러도 탈출 불가

악성 광고 사이트들이 자주 사용하는 수법!

### [7/10] 사용자 대처법 - 기본편 💪
**탭 닫기**: Ctrl+W (Cmd+W)
- 가장 확실하지만 히스토리 손실

**주소창 이용**: Ctrl+L (Cmd+L)
- 새로운 주소 직접 입력

**강제 뒤로가기**: Alt+← (Cmd+←)
- 브라우저 내장 기능 사용

### [8/10] 사용자 대처법 - 고급편 🛡️
**브라우저 확장프로그램:**
- uBlock Origin 같은 광고차단기
- 악성 스크립트 차단으로 예방

**개발자도구 활용:**
- F12 → Console 탭
- 에러 메시지로 원인 파악

### [9/10] 개발자를 위한 팁 👨‍💻
**좋은 구현법:**
✅ React Router, Vue Router 사용
✅ 사용자에게 명확한 안내 제공
✅ 웹사이트 내 돌아가기 버튼 제공

**나쁜 구현법:**
❌ 무단 히스토리 조작
❌ 사용자 갇아두기
❌ 예고 없는 내비게이션 차단

### [10/10] 웹의 진화와 성장통 🌱
뒤로가기 문제는 웹이 발전하면서 생긴 성장통!

**사용자**: 대처법을 익혀두자
**개발자**: 사용자 경험을 최우선으로

앞으로 웹 기술이 어떻게 더 발전할지 기대되네요! 🚀

#개발자와소통하기 #비개발자를위한IT #웹개발 #SPA #히스토리API #hanib_tech
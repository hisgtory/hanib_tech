# Episode 9-8: API를 통한 데이터 연동

*택시 기사의 신나는 IT 수다방*

---

## 아, 손님! 그거 아세요? API가 뭔지요?

탁! 문을 닫으시고요. 어디 가시나요? 아, 강남역이요? 좋습니다, 좋아!

그런데 손님, 혹시 API라는 거 들어보셨어요? 아니, 이게 참 신기한 건데요. 제가 택시 운전만 20년째 하고 있거든요. 그런데 요즘 세상 참 많이 바뀌었어요. 예전엔 손님이 전화로 "아저씨~ 어디어디로 와주세요" 하면 제가 직접 가서 모셨는데, 지금은 앱으로 딱딱 하잖아요?

이게 바로 API 때문이에요! **API는 도로 같은 거에요.** 서울에서 부산 가려면 고속도로 타야 하잖아요? 마찬가지로 앱과 앱, 서비스와 서비스가 데이터 주고받으려면 API라는 '데이터 고속도로'를 타야 해요.

### API는 도로망 같아요

생각해보세요, 손님. 서울 도로망이 얼마나 복잡한지요? 

- **1차선 도로**: 간단한 데이터 하나씩 주고받기 (예: 현재 위치 확인)
- **4차선 도로**: 여러 데이터를 동시에 처리 (예: 택시 호출 + 예상 요금 + 도착 시간)
- **고속도로**: 대용량 데이터 한번에 쭉~ (예: 전체 택시 위치 실시간 업데이트)

그런데 이 도로에도 규칙이 있어요. 신호등, 차선 변경 규칙, 속도 제한... 맞죠? API도 마찬가지에요!

---

## REST API vs GraphQL - 고속도로의 두 가지 방식

아, 그런데 손님! 요즘 개발자들이 말하는 걸 들어보니까, API에도 두 가지 방식이 있더라고요.

### REST API - 전통적인 고속도로

**REST API는 우리가 아는 일반 고속도로 같아요.**

- 서울에서 부산 가려면 → 경부고속도로 타고 가야죠
- 서울에서 광주 가려면 → 호남고속도로 타고 가야죠
- 서울에서 강릉 가려면 → 영동고속도로 타고 가야죠

마찬가지로 REST API는:
- 사용자 정보가 필요하면 → `/api/users` 길로 가야 해요
- 주문 정보가 필요하면 → `/api/orders` 길로 가야 해요  
- 상품 정보가 필요하면 → `/api/products` 길로 가야 해요

**장점**: 규칙이 간단해요! 어디든 가는 길이 정해져 있어서 헷갈리지 않아요.
**단점**: 때로는 돌아가야 해요. 사용자 정보 + 주문 정보가 동시에 필요하면 두 번 다녀와야 해요.

### GraphQL - 맞춤형 고속도로

**GraphQL은 네비게이션이 알아서 최적 경로를 만들어주는 것 같아요.**

"아저씨, 저 강남역에서 홍대 거쳐서 마포대교 건너서 여의도로 가고 싶어요!"
"알겠습니다! 딱 그 경로로 가드리죠!"

GraphQL도 마찬가지에요:
```
"사용자 이름이랑, 그 사람의 최근 주문 3개만, 그리고 각 주문의 상품명만 주세요!"
```

**장점**: 딱 필요한 것만 가져와요! 한 번에 여러 곳 들러서 가져와요.
**단점**: 경로가 복잡해져요. 네비게이션이 고장나면... 어디로 가야 할지 모르죠.

---

## API 연동할 때 조심해야 할 것들

아이고, 손님! 제가 택시 운전하면서 겪은 거 있거든요?

### 1. 인증과 보안 - 신분증 검사같은 거에요

고속도로 들어갈 때 하이패스 찍잖아요? API도 마찬가지에요!

**API Key**: 하이패스 카드 같은 거
```
"안녕하세요, 저는 ABC회사에서 온 hanib_tech입니다. 제 카드는 abcd1234입니다."
```

**OAuth**: VIP 전용 도로 같은 거
```
"저는 구글 회원인데, 구글이 저를 보증해줄게요. 제가 누군지 구글한테 물어보세요."
```

제가 예전에 가짜 하이패스 카드 쓰다가 걸린 적 있거든요? (웃음) API도 마찬가지에요. 가짜 키 쓰면 바로 차단당해요!

### 2. Rate Limiting - 속도 제한 같은 거에요

**과속하면 단속걸리잖아요?** API도 마찬가지!

- "1분에 100번까지만 요청하세요"
- "하루에 10,000번까지만 가능해요"

제가 얼마 전에 네비게이션 앱 너무 자주 써서 "속도 제한 걸렸다"고 나오더라고요! 진짜로!

> **TMI 박스**
> 
> 트위터 API는 15분에 300번까지만 트윗을 가져올 수 있어요. 그래서 트위터 클라이언트 앱들이 가끔 "잠시 후 다시 시도하세요"라고 하는 거예요. 마치 고속도로 진입 제한 걸린 것처럼요!

### 3. 에러 처리 - 도로 공사 같은 거에요

도로 가다가 공사 중이면 어떻게 해요? 우회해야죠!

**HTTP 상태 코드**가 도로 표지판 같아요:
- **200**: "도로 정상, 쌩쌩 달려요!"
- **404**: "길이 없어요, 다른 길 찾으세요"
- **500**: "서버에 문제 있어요, 잠깐만 기다려주세요"
- **429**: "너무 빨라요, 좀 천천히 와주세요"

---

## 실제 업무에서 이런 상황 있어요

### 상황 1: "고객 정보랑 주문 내역 같이 보여주세요"

**마케팅팀**: "고객 상세 페이지에 최근 주문 내역도 같이 보이게 해주세요."

**개발자**: "REST API로 하면 두 번 요청해야 해요."
```
1. /api/customers/123 → 고객 정보 가져오기
2. /api/customers/123/orders → 주문 내역 가져오기
```

**GraphQL로 하면**: 한 번에 끝!
```
customer(id: 123) {
  name
  email
  orders(limit: 5) {
    date
    total
    status
  }
}
```

### 상황 2: "데이터가 너무 늦게 와요"

**기획자**: "페이지 로딩이 너무 느린 것 같아요."

**개발자**: "API 응답이 3초나 걸려요."

**해결책**: 캐싱! 자주 가는 길은 외워두는 거죠.
- 1시간 동안은 같은 데이터 재사용
- 사용자가 많이 찾는 정보는 미리 준비

---

## Try This at Work: API 소통하는 법

### 개발자와 이야기할 때

❌ **이렇게 말하지 마세요**:
"API가 왜 이렇게 복잡해요? 그냥 데이터 가져오면 되는 거 아닌가요?"

✅ **이렇게 말해보세요**:
"이 기능에서 필요한 데이터들을 한 번에 가져올 수 있을까요? 여러 번 요청하면 속도가 느려질까 봐 걱정되네요."

### 기획할 때 고려사항

1. **응답 시간**: "이 API 호출하는데 몇 초 걸려요?"
2. **제한사항**: "동시에 몇 명이 써도 괜찮아요?"
3. **에러 상황**: "데이터 못 가져오면 화면에 뭘 보여줄까요?"

---

## 재미있는 API 이야기들

### 카카오톡 로그인이 이렇게 작동해요

1. **사용자**: "카카오톡으로 로그인하고 싶어요"
2. **우리 앱**: "카카오야, 이 사람 누구야?"
3. **카카오**: "잠깐, 본인 확인부터 해봐"
4. **사용자**: 카카오톡에서 "허용" 클릭
5. **카카오**: "인증됐어, 이 사람은 홍길동이야"
6. **우리 앱**: "안녕하세요, 홍길동님!"

이 모든 과정이 3초 안에 끝나요! 마치 하이패스 찍고 지나가는 것처럼요.

### 결제 API의 마법

"카드로 결제하겠습니다"라고 하면:
1. 카드 정보 → 결제사 API로 전송
2. 결제사 → 은행 API로 잔액 확인
3. 은행 → "잔액 있어요!" 응답
4. 결제사 → "결제 성공!" 우리한테 알려줌
5. 우리 → "결제 완료!" 고객에게 표시

이 모든 게 2~3초 안에 일어나요!

---

## 정리하며

API는 정말 우리 일상 곳곳에 숨어있어요. 택시 앱, 배달 앱, 쇼핑몰... 모든 게 API로 연결되어 있어요.

**기억하세요**:
- API는 데이터 고속도로
- REST는 정해진 길, GraphQL은 맞춤 길
- 속도 제한과 신분 확인은 필수
- 에러 상황도 미리 준비해야 해요

아, 벌써 강남역이네요! 손님, 오늘 제 API 이야기 어떠셨어요? 다음에 또 태워주세요! API 이야기 더 들려드릴게요~ (웃음)

---

*hanib_tech의 택시 기사 IT 수다방에서*  
*"복잡한 기술을 쉬운 이야기로"*

**다음 편 예고**: "데이터 백업과 복구 - 택시 기사의 블랙박스 이야기"

---

### 한 줄 요약
API는 앱들이 데이터 주고받는 고속도로예요. 신분증 검사하고, 속도 제한 지키면서, 목적지까지 안전하게 데이터를 배달하는 거죠!

#개발자와소통하기 #비개발자를위한IT #API #데이터연동 #hanib_tech
-----

## 📝 Feedback

### 현재 잘된 점
- 핵심 개념을 명확하게 설명
- 실무 예시와 사례 제공
- 단계별 가이드 포함

### 개선이 필요한 부분

1. **디자이너 관점 추가**
   - 디자이너가 이해해야 할 핵심 포인트
   - 디자인 작업과의 연관성
   - 협업 시 주의사항

2. **실무 대화 예시**
   - 팀 미팅에서의 실제 대화
   - 갈등 상황과 해결 방법
   - 효과적인 커뮤니케이션 팁

3. **실패 사례와 교훈**
   - 실제 프로젝트 실패 경험
   - 피해야 할 함정들
   - 배운 교훈과 개선 방안

4. **실용적 도구/템플릿**
   - 바로 사용 가능한 템플릿
   - 추천 도구와 서비스
   - 체크리스트와 가이드라인

5. **시각적 요소 강화**
   - 프로세스 다이어그램
   - 비교 표와 차트
   - 인포그래픽 추가 제안

# Episode 3-13: Merge Conflict가 발생하면 누가 해결해요? [Exclusive]

## Hook: 개발자들의 가장 무서운 순간

"Merge conflict가 발생했습니다." 이 메시지만 봐도 개발자들의 얼굴이 굳어집니다. 마치 의료진들이 "수술 중 합병증이 발생했습니다"라는 말을 듣는 것 같은 기분이죠. 그런데 이 무서운 Merge Conflict, 도대체 누가 해결해야 하는 걸까요?

## 1. Merge Conflict란 무엇인가?

### 쉬운 비유: 공동 작업의 딜레마

Merge Conflict를 이해하기 위해 간단한 상황을 생각해보세요. 

당신과 동료가 같은 문서를 동시에 편집하고 있었습니다:
- **당신**: "회의는 오후 2시에 시작합니다" → "회의는 오후 3시에 시작합니다"
- **동료**: "회의는 오후 2시에 시작합니다" → "회의는 오전 10시에 시작합니다"

둘 다 같은 줄을 다르게 수정했어요. 이제 이 둘을 합치려고 하는데, 컴퓨터 입장에서는 어느 것이 맞는지 알 수 없죠. 이것이 바로 Merge Conflict입니다!

### 개발에서의 Merge Conflict

```javascript
// 원본 코드
function calculatePrice(price) {
    return price * 1.1; // 10% 할인
}

// 개발자 A의 수정
function calculatePrice(price) {
    return price * 1.15; // 15% 할인
}

// 개발자 B의 수정
function calculatePrice(price) {
    return price * 1.05; // 5% 할인
}
```

Git은 이런 상황에서 "두 개발자가 같은 코드를 다르게 수정했는데, 어느 것을 선택해야 할지 모르겠어요!"라고 말하며 Merge Conflict를 발생시킵니다.

## 2. Merge Conflict가 발생하는 상황들

### 가장 흔한 원인들

**1. 같은 파일의 같은 줄 수정**
- 두 명 이상이 동일한 함수나 변수를 동시에 수정
- 가장 일반적이고 해결하기 어려운 경우

**2. 파일 이름 변경 충돌**
- A개발자: `user.js` → `userService.js`
- B개발자: `user.js` → `userManager.js`

**3. 파일 삭제 vs 수정**
- A개발자: 파일을 삭제
- B개발자: 같은 파일을 수정

**4. 코드 스타일 차이**
- 탭 vs 스페이스
- 들여쓰기 깊이 차이
- 줄바꿈 방식 (LF vs CRLF) 차이

### 실제 충돌 발생 시나리오

**시나리오 1: 스타트업 (개발자 3명)**
```
월요일 오전:
김개발자: 로그인 기능 개발 시작
박개발자: 회원가입 기능 개발 시작
둘 다 `auth.js` 파일을 수정하기 시작...

화요일 오후:
김개발자: "로그인 기능 완성! 푸시할게요"
박개발자: "회원가입도 완성! 어? Merge Conflict?"
```

**시나리오 2: 중견 기업 (개발팀 10명)**
```
스프린트 마지막 주:
- 5명이 각각 다른 기능 개발
- 모두가 공통으로 사용하는 `utils.js` 파일을 수정
- 금요일 배포 전 모든 기능을 합치려 하는데...
- 연쇄적인 Merge Conflict 발생!
```

## 3. 팀 규모별 해결 책임자

### 소규모 팀 (2-5명): 모두가 해결사

**특징:**
- 모든 개발자가 전체 코드베이스를 이해
- 커뮤니케이션이 쉬움
- 빠른 의사결정 가능

**해결 방식:**
- **1차 시도**: Conflict를 일으킨 개발자가 직접 해결
- **2차 시도**: 같이 앉아서 함께 해결
- **최종**: 팀 리드가 중재하며 해결

```
예시 상황:
- 김개발자와 이개발자가 같은 함수를 수정
- 김개발자: "어? 충돌 났네요. 이개발자님 잠깐 와보세요"
- 5분 후: "아, 제가 할인율 15%로, 이개발자님이 5%로 수정하셨네요. 어떻게 할까요?"
- 즉석에서 결정: "기획서 확인해보니 10%가 맞네요. 둘 다 수정해야겠어요"
```

### 중견 팀 (6-15명): 리드 개발자가 중심

**특징:**
- 기능별로 담당자가 나뉨
- 코드 리뷰 프로세스 존재
- 체계적인 브랜치 관리

**해결 방식:**
- **기본 원칙**: 마지막에 Merge하는 사람이 해결
- **복잡한 경우**: 관련 개발자들과 리드 개발자가 함께 해결
- **크리티컬한 경우**: 코드 리뷰를 통해 해결

```
예시 프로세스:
1. 박개발자가 Pull Request 생성
2. Merge Conflict 발생 감지
3. 박개발자가 1차 해결 시도
4. 해결이 어려우면 관련 개발자들에게 슬랙 메시지
5. 필요시 화상회의로 함께 해결
6. 리드 개발자가 최종 검토 후 승인
```

### 대규모 팀 (15명+): 전문화된 역할 분담

**특징:**
- 명확한 코드 오너십
- 자동화된 CI/CD 파이프라인
- 전담 DevOps 팀 존재

**해결 방식:**
- **코드 오너**: 각 모듈별 책임자가 우선 해결
- **크로스 팀 충돌**: Release Manager가 조율
- **자동화**: 가능한 충돌은 도구로 자동 해결

```
대기업 해결 플로우:
1. Automated Merge 시도
2. 실패 시 → 코드 오너에게 자동 할당
3. 크로스 모듈 충돌 시 → Release Manager 에스컬레이션
4. 복잡한 비즈니스 로직 충돌 → 기획자 + 개발자 미팅
5. 최종 QA 팀 검증 후 Merge
```

## 4. 실제 해결 프로세스

### Step 1: 충돌 확인 및 분석

```bash
# Merge Conflict 발생 확인
git status

# 충돌 파일 확인
git diff

# 충돌 내용 상세 보기
git log --merge
```

**충돌 파일 예시:**
```javascript
<<<<<<< HEAD
function calculateDiscount(price) {
    return price * 0.85; // 15% 할인
}
=======
function calculateDiscount(price) {
    return price * 0.9; // 10% 할인
}
>>>>>>> feature/discount-update
```

### Step 2: 관련자들과 소통

**효과적인 소통 방법:**
- **슬랙/Teams 메시지**: "auth.js에서 Merge Conflict 발생했어요. @김개발 님, 할인율 관련해서 어떻게 처리할까요?"
- **코드 스니펫 공유**: 충돌 부분 캡처해서 공유
- **컨텍스트 제공**: "로그인 개선 작업 중에 발생한 충돌입니다"

### Step 3: 해결 방법 결정

**해결 전략:**
1. **한쪽 선택**: 명확히 어느 것이 맞는지 알 때
2. **수동 합치기**: 두 변경사항 모두 필요할 때
3. **새로운 해결책**: 완전히 다른 접근 방법 선택

### Step 4: 테스트 및 검증

```bash
# 충돌 해결 후
git add .
git commit -m "resolve: merge conflict in calculateDiscount function"

# 테스트 실행
npm test
# 또는
python -m pytest

# 최종 푸시
git push origin main
```

## 5. Merge Conflict 예방 전략

### 개발 프로세스 개선

**1. 작은 단위로 자주 Commit**
- 큰 기능을 작은 단위로 나누어 개발
- 매일 또는 2-3일에 한 번씩은 Merge
- "작게 자주" 원칙 적용

**2. 브랜치 전략 수립**
- Git Flow, GitHub Flow 등 표준 전략 채택
- Feature 브랜치 수명을 최대한 짧게 유지
- Main 브랜치와 자주 동기화

**3. 코드 컨벤션 통일**
```javascript
// 팀 컨벤션 예시
{
  "indent": "2 spaces",
  "quotes": "single",
  "semicolon": true,
  "trailingComma": "es5",
  "lineEnding": "lf"
}
```

### 도구 활용

**1. Pre-commit Hook**
```bash
# .pre-commit-config.yaml
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-merge-conflict
```

**2. 자동화된 Code Formatting**
- Prettier (JavaScript)
- Black (Python)  
- GoFmt (Go)
- Rustfmt (Rust)

**3. 충돌 감지 도구**
- GitHub의 Merge Conflict 미리 보기
- GitLab Merge Request 충돌 감지
- IDE의 Git 통합 기능

## 6. 커뮤니케이션 베스트 프랙티스

### 충돌 발생 시 대화 예시

**❌ 좋지 않은 예시:**
```
개발자A: "Merge Conflict 났는데 해결해주세요"
개발자B: "제가 왜 해결해야 하죠?"
개발자A: "제가 먼저 작업했는데..."
```

**✅ 좋은 예시:**
```
개발자A: "auth.js에서 충돌이 발생했어요! 
제가 로그인 세션 시간을 30분으로 수정했는데, 
@개발자B님도 같은 부분을 수정하신 것 같아요. 
기획 의도를 확인해서 함께 해결할까요?"

개발자B: "아, 저는 60분으로 수정했어요. 
기획서 확인해보니 30분이 맞네요. 
제가 수정할게요!"
```

### 효과적인 충돌 해결 미팅

**미팅 구성:**
- **참석자**: 충돌 관련 개발자 + 필요시 기획자
- **준비물**: 코드 diff, 기획서, 테스트 케이스
- **목표**: 기술적 해결 + 비즈니스 로직 검증

**미팅 플로우:**
1. **상황 공유** (5분): 언제, 어떤 충돌인지 설명
2. **옵션 검토** (10분): 가능한 해결 방법들 논의
3. **결정** (5분): 최적의 해결책 선택
4. **실행** (10분): 실시간으로 충돌 해결
5. **검증** (10분): 테스트 실행 및 결과 확인

## 7. 조직별 충돌 해결 문화

### 스타트업 문화: "함께 해결하자"

**특징:**
- 개방적이고 협력적인 분위기
- 즉석에서 빠른 결정
- 학습 기회로 활용

**실제 사례:**
```
"어제 첫 Merge Conflict를 경험했는데, 
시니어 개발자가 옆에서 차근차근 설명해주면서 
함께 해결했어요. 무서워했던 것과 달리 
생각보다 어렵지 않더라고요!"
```

### 중견 기업 문화: "프로세스를 따르자"

**특징:**
- 명확한 가이드라인 존재
- 단계적 에스컬레이션
- 문서화된 해결 과정

**프로세스 예시:**
1. 개발자 스스로 해결 시도 (30분 제한)
2. 팀 내 도움 요청
3. 리드 개발자 에스컬레이션
4. 필요시 기획팀 협의

### 대기업 문화: "책임자가 처리하자"

**특징:**
- 명확한 역할과 책임 분담
- 자동화된 프로세스
- 위험 관리 중심

**대응 체계:**
- **L1**: 자동화 도구로 해결
- **L2**: 모듈 담당자가 해결
- **L3**: 크로스팀 이슈는 Release Manager
- **L4**: 비즈니스 임팩트 있으면 임원진 보고

## 8. 마무리: Merge Conflict, 무서워하지 말자

Merge Conflict는 개발자라면 누구나 경험하는 자연스러운 과정입니다. 마치 요리할 때 짠맛과 단맛의 균형을 맞추는 것처럼, 서로 다른 코드 변경사항의 균형을 맞추는 것이죠.

### 핵심 원칙

1. **책임**: 마지막에 Merge하는 사람이 1차 책임자
2. **소통**: 혼자 고민하지 말고 관련자들과 상의
3. **이해**: 비즈니스 로직을 이해하고 해결
4. **예방**: 작게 자주, 컨벤션 준수로 충돌 최소화
5. **학습**: 매번 배움의 기회로 활용

### 팀별 권장사항

**소규모 팀 (2-5명)**:
- 충돌 발생 시 즉시 소통
- 함께 앉아서 해결
- 매일 코드 동기화

**중견 팀 (6-15명)**:
- 명확한 브랜치 전략 수립
- 정기적인 코드 리뷰
- 충돌 해결 가이드라인 문서화

**대규모 팀 (15명+)**:
- 자동화 도구 적극 활용
- 코드 오너십 명확히 정의
- 에스컬레이션 프로세스 구축

Merge Conflict가 발생했다고 당황하지 마세요. 이것은 팀이 활발히 개발하고 있다는 좋은 신호입니다! 올바른 프로세스와 소통으로 충돌을 해결하면서, 더 나은 코드와 더 강한 팀워크를 만들어갈 수 있을 거예요.

---

## Instagram 카드뉴스 버전

### 카드 1: Hook
😱 "Merge Conflict가 발생했습니다"

개발자들이 가장 무서워하는 메시지!
마치 의료진이 "수술 중 합병증"이라는 
말을 듣는 기분...

도대체 누가 해결해야 하는 거죠?

### 카드 2: Merge Conflict란?
🤝 간단한 비유로 이해하기

당신: "회의는 3시에 시작" 
동료: "회의는 10시에 시작"

같은 문서, 다른 수정사항!
컴퓨터가 어느 걸 선택해야 할지 모르는 상황

이게 바로 Merge Conflict!

### 카드 3: 발생 원인들
⚠️ 언제 충돌이 생길까?

• 같은 파일의 같은 줄 수정
• 파일 이름 변경 충돌  
• 파일 삭제 vs 수정
• 코드 스타일 차이

가장 흔한 건 여러 명이
같은 함수를 동시에 수정하는 경우!

### 카드 4: 소규모 팀 해결법
👥 스타트업 (2-5명)

**특징**: 모두가 전체 코드 이해
**해결**: 함께 앉아서 즉석 해결

"어? 충돌 났네요. 잠깐 와보세요!"
→ 5분 후 해결 완료

소통이 쉬워서 빠른 해결 가능!

### 카드 5: 중견 팀 해결법  
🏢 중견 기업 (6-15명)

**특징**: 기능별 담당자 분리
**해결**: 리드 개발자 중심 프로세스

1. 마지막 Merge하는 사람이 1차 해결
2. 어려우면 관련자들과 상의
3. 리드 개발자가 최종 검토

체계적 프로세스로 안전하게!

### 카드 6: 대규모 팀 해결법
🏭 대기업 (15명+)

**특징**: 명확한 역할 분담
**해결**: 전문화된 책임 체계

• 코드 오너가 우선 해결
• 크로스팀 → Release Manager  
• 자동화 도구 적극 활용

규모가 클수록 체계가 중요해요!

### 카드 7: 해결 프로세스
🔧 실제 해결 단계

1️⃣ 충돌 확인 및 분석
2️⃣ 관련자들과 소통  
3️⃣ 해결 방법 결정
4️⃣ 테스트 및 검증

혼자 고민하지 말고
관련된 사람들과 상의하세요!

### 카드 8: 예방 전략
🛡️ 충돌을 줄이는 방법

• 작은 단위로 자주 Commit
• 브랜치 수명을 짧게 유지
• 코드 컨벤션 통일
• 자동 포맷팅 도구 사용

"작게 자주" 원칙이 핵심!

### 카드 9: 좋은 소통 vs 나쁜 소통
💬 대화의 차이

❌ 나쁜 예:
"Merge Conflict 났는데 해결해주세요"
"제가 왜 해결해야 하죠?"

✅ 좋은 예:  
"auth.js에서 충돌 발생했어요! 
기획 의도 확인해서 함께 해결할까요?"

### 카드 10: 핵심 메시지
💡 기억하세요!

Merge Conflict = 자연스러운 과정
팀이 활발히 개발하고 있다는 증거!

✅ 마지막 Merge하는 사람이 1차 책임
✅ 소통으로 함께 해결
✅ 매번 배움의 기회로 활용

무서워하지 말고 성장의 발판으로! 🚀

#MergeConflict #Git #개발자협업 #코드리뷰 #팀워크
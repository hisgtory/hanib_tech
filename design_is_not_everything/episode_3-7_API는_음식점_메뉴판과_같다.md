# Episode 3-7: API는 음식점 메뉴판과 같다

여러분이 좋아하는 음식점에 가면 가장 먼저 무엇을 보시나요? 바로 메뉴판이죠! API도 이와 비슷합니다. 음식점 메뉴판이 어떤 음식을 주문할 수 있는지 알려주듯이, API는 어떤 데이터나 기능을 요청할 수 있는지 알려주는 '디지털 메뉴판'이라고 생각하시면 됩니다.

## API란 무엇인가요?

API는 Application Programming Interface의 약자로, 서로 다른 소프트웨어나 서비스가 대화할 수 있게 해주는 '약속된 규칙'입니다. 마치 한국인과 미국인이 영어라는 공통 언어로 대화하듯이, 서로 다른 프로그램들이 API라는 공통된 규칙으로 정보를 주고받을 수 있게 되는 것이죠.

### 일상 속 API 예시

- **날씨 앱**: 기상청 API를 통해 실시간 날씨 정보를 받아와 보여줍니다
- **지도 앱**: 구글맵이나 네이버지도 API를 사용해 위치 정보를 표시합니다
- **소셜 로그인**: '카카오로 로그인', '구글로 로그인' 기능도 각 회사의 API를 사용합니다
- **결제 시스템**: 온라인 쇼핑몰이 토스페이나 카카오페이 API를 연동해 결제를 처리합니다

## API의 종류와 특징

### 1. REST API - 가장 널리 사용되는 표준

REST(Representational State Transfer) API는 현재 가장 널리 사용되는 API 표준입니다. 마치 우편번호 체계처럼 각 데이터마다 고유한 주소(URL)를 가지고 있어, 해당 주소로 요청을 보내면 원하는 데이터를 받을 수 있습니다.

**REST API의 주요 특징:**
- **GET**: 데이터 조회 (메뉴판 보기)
- **POST**: 새로운 데이터 생성 (주문하기)
- **PUT**: 기존 데이터 수정 (주문 변경)
- **DELETE**: 데이터 삭제 (주문 취소)

### 2. GraphQL - 필요한 것만 골라서

GraphQL은 페이스북에서 개발한 쿼리 언어로, 클라이언트가 필요한 데이터만 선택해서 요청할 수 있습니다. 마치 뷔페에서 필요한 음식만 골라 담듯이, 전체 데이터 중 필요한 부분만 선택해서 받을 수 있어 효율적입니다.

### 3. WebSocket API - 실시간 통신

일반적인 API가 편지를 주고받는 것과 같다면, WebSocket은 전화 통화와 같습니다. 양방향 실시간 통신이 가능해 채팅 앱, 주식 거래 앱, 온라인 게임 등에서 사용됩니다.

## API가 필요한 이유

### 1. 개발 효율성 향상

모든 기능을 처음부터 만들 필요 없이, 이미 잘 만들어진 서비스의 API를 활용할 수 있습니다. 예를 들어, 지도 기능이 필요할 때 직접 지도를 만드는 것보다 구글맵 API를 사용하면 훨씬 효율적입니다.

### 2. 비즈니스 협업

서로 다른 회사의 서비스를 연동할 수 있어 비즈니스 협업이 가능합니다. 예를 들어:
- 배달 앱이 음식점 API를 통해 메뉴 정보를 받아옵니다
- 여행 앱이 항공사 API를 통해 실시간 항공권 정보를 제공합니다
- 커머스 앱이 배송업체 API를 통해 배송 추적을 가능하게 합니다

### 3. 데이터 보안과 제어

API를 통해 접근 권한을 제어하고 보안을 강화할 수 있습니다. 방문객에게 집 전체를 공개하는 것보다 거실만 보여주는 것처럼, API는 필요한 데이터만 제한적으로 제공할 수 있습니다.

## API 사용의 실제 예시

### 날씨 앱 만들기 예시

날씨 앱을 만든다고 가정해보겠습니다. 기상청이나 OpenWeatherMap 같은 서비스의 API를 사용하면:

- **1단계**: API 키 발급받기 (출입증 받기)
- **2단계**: API 문서 확인 (메뉴판 보기)
- **3단계**: 요청 보내기 (주문하기)
- **4단계**: 응답 받기 (음식 받기)
- **5단계**: 데이터 표시 (접시에 담기)

### 실제 코드 예시

날씨 API를 사용하는 간단한 JavaScript 코드 예시입니다:

```javascript
// API 키와 도시 설정
const API_KEY = 'your-api-key-here';
const city = 'Seoul';

// API에 요청 보내기
fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}`)
  .then(response => response.json())
  .then(data => {
    // 온도를 섭씨로 변환
    const temp = Math.round(data.main.temp - 273.15);
    
    // 화면에 표시
    console.log(`현재 ${city}의 온도는 ${temp}°C입니다.`);
    console.log(`날씨: ${data.weather[0].description}`);
  })
  .catch(error => {
    console.error('날씨 정보를 가져오는데 실패했습니다:', error);
  });
```

## API 사용 시 주의사항

### 1. API 키 보안

API 키는 비밀번호와 같아서 노출되면 안 됩니다. GitHub에 코드를 올릴 때는 항상 API 키를 환경 변수나 별도 파일로 관리해야 합니다.

### 2. 사용량 제한 (Rate Limiting)

대부분의 API는 무료로 사용할 수 있는 횟수가 제한되어 있습니다. 예를 들어:
- 하루 1,000회 호출 제한
- 분당 60회 호출 제한
- 초과 시 유료 요금 부과

### 3. 에러 처리

API 호출이 항상 성공하는 것은 아닙니다. 네트워크 문제, 서버 문제, 잘못된 요청 등으로 실패할 수 있으므로 항상 에러 처리를 해야 합니다.

## 마무리

API는 현대 웹/앱 개발에서 빼놓을 수 없는 핵심 기술입니다. 마치 레고 블록처럼 서로 다른 서비스를 연결해 더 크고 멋진 것을 만들 수 있게 해주죠.

**핵심 정리:**
- API = 서로 다른 프로그램이 대화하는 방법
- 개발 효율성을 크게 높여줌
- 비즈니스 협업을 가능하게 함
- 보안과 접근 제어가 가능

이제 API가 무엇인지, 왜 필요한지 이해하셨나요? 음식점 메뉴판처럼 생각하면 훨씬 쉽게 이해할 수 있을 거예요! 😊